<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meu Fazendao - Cadastro</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
<script>
  tailwind.config = {
    darkMode: "class",
    theme: {
      extend: {
        colors: {
          "primary": "#4CAF50",
          "background-light": "#F7F9FC",
          "background-dark": "#1a1d1a",
          "card-light": "#ffffff",
          "card-dark": "#2c2f2c",
          "text-light": "#333333",
          "text-dark": "#e0e0e0",
          "subtle-light": "#666666",
          "subtle-dark": "#a0a0a0",
          "border-light": "#e0e0e0",
          "border-dark": "#444444",
          "accent": "#FFC107"
        },
        fontFamily: {
          "display": ["Inter", "sans-serif"]
        },
        borderRadius: {
          "DEFAULT": "0.5rem",
          "lg": "0.75rem",
          "xl": "1rem",
          "full": "9999px"
        },
      },
    },
  }
</script>
<style>
  body {
        body {
            font-family: "Poppins", sans-serif;
            background: linear-gradient(135deg, #6b8e23, #98fb98);
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
        }
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
</style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark min-h-screen flex flex-col items-center justify-center">

<div class="max-w-md w-full bg-card-light dark:bg-card-dark p-8 rounded-xl shadow-lg border border-border-light/50 dark:border-border-dark/50">
  <div class="text-center mb-6">
    <span class="material-symbols-outlined text-primary text-4xl">eco</span>
    <h1 class="text-3xl font-bold text-text-light dark:text-text-dark">Meu Fazendao</h1>
    <p class="text-subtle-light dark:text-subtle-dark mt-2">Crie sua conta e comece sua fazenda!</p>
  </div>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, msg in messages %}
        <div class="mb-4 text-sm text-center {% if category == 'sucesso' %}text-green-600{% else %}text-red-600{% endif %}">
          {{ msg }}
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="POST" action="/cadastro" class="flex flex-col gap-4">
    <label class="flex flex-col">
      <p class="text-text-light dark:text-text-dark text-sm font-medium pb-2">Nome completo</p>
      <input name="nome" type="text" required class="form-input flex w-full h-12 rounded-lg border border-border-light dark:border-border-dark px-4 bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/50 transition">
    </label>

    <label class="flex flex-col">
      <p class="text-text-light dark:text-text-dark text-sm font-medium pb-2">Email</p>
      <input name="email" type="email" required class="form-input flex w-full h-12 rounded-lg border border-border-light dark:border-border-dark px-4 bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/50 transition">
    </label>

    <label class="flex flex-col">
      <p class="text-text-light dark:text-text-dark text-sm font-medium pb-2">Senha</p>
      <div class="relative">
        <input id="senha" name="senha" type="password" required class="form-input flex w-full h-12 rounded-lg border border-border-light dark:border-border-dark px-4 bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark focus:ring-2 focus:ring-primary/50 transition">
        <button type="button" id="toggleSenha" class="absolute inset-y-0 right-0 pr-4 flex items-center text-subtle-light dark:text-subtle-dark">
          <span class="material-symbols-outlined" id="iconeSenha">visibility</span>
        </button>
      </div>
    </label>

    <button type="submit" class="w-full h-12 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition">
      Cadastrar
    </button>
  </form>

  <p class="text-center text-sm mt-4 text-subtle-light dark:text-subtle-dark">
    JÃ¡ tem conta?
    <a href="/login" class="text-primary hover:underline">Entrar</a>
  </p>
</div>

<script>
  // Mostrar/ocultar senha
  const toggleSenha = document.getElementById("toggleSenha");
  const campoSenha = document.getElementById("senha");
  const iconeSenha = document.getElementById("iconeSenha");

  toggleSenha.addEventListener("click", () => {
    const tipo = campoSenha.getAttribute("type") === "password" ? "text" : "password";
    campoSenha.setAttribute("type", tipo);
    iconeSenha.textContent = tipo === "password" ? "visibility" : "visibility_off";
  });
</script>

</body>
</html>
